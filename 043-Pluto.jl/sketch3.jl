### A Pluto.jl notebook ###
# v0.12.7

using Markdown
using InteractiveUtils

# ╔═╡ 533b3642-21ec-11eb-286f-b3bb55dfab94
#using PlutoUI

# ╔═╡ 6294a7c0-21ec-11eb-2459-31b10d5bb909
"Investigating floating point"

# ╔═╡ 5bd10060-21f5-11eb-3c52-4366d5580539
macro asx(a,b) :( $a==$b ? nothing : [$a,$b]) end

# ╔═╡ 68f703c0-227c-11eb-3741-8df12d2e0be1
ieee0(x::Float32) = [bitstring(x)[1:1],bitstring(x)[2:9],bitstring(x)[10:32]]

# ╔═╡ a1a31240-227c-11eb-1a8e-73841f935c8f
ieee0(x::Float64) = [bitstring(x)[1:1],bitstring(x)[2:12],bitstring(x)[13:64]]

# ╔═╡ 48e5ed20-2278-11eb-309d-2de58c9005ec
ieee(x::Float32) = [parse.(Int32,ieee0(x),base=2),ieee0(x)]

# ╔═╡ 9c0963d0-21f4-11eb-02af-33c6644ec7bd
ieee(x::Float64) = [parse.(Int64,ieee0(x),base=2),ieee0(x)]

# ╔═╡ 3f1a2dc0-21f0-11eb-0411-07e266895964
@asx 1+2 3

# ╔═╡ 6ed320d0-21f0-11eb-39c1-79d9e6702c98
@asx ieee(1.0) [[0,1023,0],["0","01111111111","0000000000000000000000000000000000000000000000000000"]]

# ╔═╡ 37483260-21f3-11eb-3fec-17f573648953
@asx ieee(2.0) [[0,1024,0],["0","10000000000","0000000000000000000000000000000000000000000000000000"]]

# ╔═╡ 5279e540-21f0-11eb-074d-297430d62652
@asx ieee(0.5) [[0,1022,0],["0","01111111110","0000000000000000000000000000000000000000000000000000"]]

# ╔═╡ 44d92040-21f0-11eb-3a82-9185a823cd27
@asx ieee(0.2) [[0,1020,2702159776422298],["0","01111111100","1001100110011001100110011001100110011001100110011010"]]

# ╔═╡ b3399960-21f6-11eb-0846-3d28dfc85234
@asx ieee(1/3) [[0,1021,1501199875790165],["0","01111111101","0101010101010101010101010101010101010101010101010101"]]

# ╔═╡ 0a893210-227a-11eb-3a9c-eba2d4f5d04c
@asx ieee(1/7) [[0,1020,643371375338642],["0","01111111100","0010010010010010010010010010010010010010010010010010"]]

# ╔═╡ de183e0e-2279-11eb-2a94-675534c842e5
@asx ieee(1/7+1/3) [[0,1021,4074685377144734],["0","01111111101","1110011110011110011110011110011110011110011110011110"]]

# ╔═╡ a5610c00-2279-11eb-1272-1ba10bf18ff5
@asx ieee(1.0f0) [[0,127,0],["0","01111111","00000000000000000000000"]]

# ╔═╡ 37499b10-2279-11eb-3cad-f76b43f4994d
@asx ieee(0.2f0) [[0,124,5033165],["0","01111100","10011001100110011001101"]]


# ╔═╡ Cell order:
# ╠═533b3642-21ec-11eb-286f-b3bb55dfab94
# ╠═6294a7c0-21ec-11eb-2459-31b10d5bb909
# ╠═5bd10060-21f5-11eb-3c52-4366d5580539
# ╠═68f703c0-227c-11eb-3741-8df12d2e0be1
# ╠═a1a31240-227c-11eb-1a8e-73841f935c8f
# ╠═48e5ed20-2278-11eb-309d-2de58c9005ec
# ╠═9c0963d0-21f4-11eb-02af-33c6644ec7bd
# ╠═3f1a2dc0-21f0-11eb-0411-07e266895964
# ╠═6ed320d0-21f0-11eb-39c1-79d9e6702c98
# ╠═37483260-21f3-11eb-3fec-17f573648953
# ╠═5279e540-21f0-11eb-074d-297430d62652
# ╠═44d92040-21f0-11eb-3a82-9185a823cd27
# ╠═b3399960-21f6-11eb-0846-3d28dfc85234
# ╠═0a893210-227a-11eb-3a9c-eba2d4f5d04c
# ╠═de183e0e-2279-11eb-2a94-675534c842e5
# ╠═a5610c00-2279-11eb-1272-1ba10bf18ff5
# ╠═37499b10-2279-11eb-3cad-f76b43f4994d
