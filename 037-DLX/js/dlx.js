// Generated by CoffeeScript 2.4.1
// Knuth's Dancing Links
// Original paper: https://arxiv.org/pdf/cs/0011047.pdf
// Implementation ported from: https://github.com/shreevatsa/knuth-literate-programs/blob/master/programs/dance.pdf

// Code runs in a state machine in order to avoid recursion
// and in order to work around the lack of `goto` in JS
var SearchState, findAll, findOne, getSearchConfig, makeData, range, search;

SearchState = {
  FORWARD: 0,
  ADVANCE: 1,
  BACKUP: 2,
  RECOVER: 3,
  DONE: 4
};

range = function(n) {
  return (function() {
    var results = [];
    for (var j = 0; 0 <= n ? j < n : j > n; 0 <= n ? j++ : j--){ results.push(j); }
    return results;
  }).apply(this);
};

search = function(config) { // rows: hash with elements "aa":[0,59,118,177]
  var advance, backup, bestCol, choices, colArray, cover, currentNode, currentSearchState, currentStateMethod, done, dumpNode, forward, iterate, level, nodeArray, nodes, numSolutions, pickBestColumn, primaries, readColumnNames, readRows, recordSolution, recover, root, rows, running, secondaries, snapshots, solutions, stateMethods, uncover;
  ({numSolutions, primaries, secondaries, rows} = config);
  root = {};
  colArray = [root];
  nodeArray = [];
  solutions = [];
  currentSearchState = SearchState.FORWARD;
  running = true;
  level = 0;
  choices = [];
  bestCol = null;
  currentNode = null;
  nodes = 0;
  snapshots = [];
  readColumnNames = function() {
    var column, curColIndex, head, j, k, lastCol, len, len1, primary, results, secondary;
    // Skip root node
    curColIndex = 1;
    for (j = 0, len = primaries.length; j < len; j++) {
      primary = primaries[j];
      head = {};
      head.up = head;
      head.down = head;
      column = {
        head,
        len: 0,
        key: primary
      };
      column.prev = colArray[curColIndex - 1];
      colArray[curColIndex - 1].next = column;
      colArray[curColIndex] = column;
      curColIndex++;
    }
    lastCol = colArray[curColIndex - 1];
    // Link the last primaries constraint to wrap back into the root
    lastCol.next = root;
    root.prev = lastCol;
    results = [];
    for (k = 0, len1 = secondaries.length; k < len1; k++) {
      secondary = secondaries[k];
      head = {};
      head.up = head;
      head.down = head;
      column = {
        head,
        len: 0,
        key: secondary
      };
      column.prev = column;
      column.next = column;
      colArray[curColIndex] = column;
      results.push(curColIndex++);
    }
    return results;
  };
  readRows = function() {
    var col, columnIndex, curNodeIndex, j, key, len, node, results, row, rowStart;
    curNodeIndex = 0;
    results = [];
    for (key in rows) {
      row = rows[key];
      rowStart = void 0;
      for (j = 0, len = row.length; j < len; j++) {
        columnIndex = row[j];
        node = {};
        node.left = node;
        node.right = node;
        node.down = node;
        node.up = node;
        node.data = key;
        nodeArray[curNodeIndex] = node;
        if (!rowStart) {
          rowStart = node;
        } else {
          node.left = nodeArray[curNodeIndex - 1];
          nodeArray[curNodeIndex - 1].right = node;
        }
        col = colArray[columnIndex + 1];
        node.col = col;
        node.up = col.head.up;
        col.head.up.down = node;
        col.head.up = node;
        node.down = col.head;
        col.len++;
        curNodeIndex++;
      }
      rowStart.left = nodeArray[curNodeIndex - 1];
      results.push(nodeArray[curNodeIndex - 1].right = rowStart);
    }
    return results;
  };
  iterate = function(dir, node, f) {
    var results, rr;
    rr = node[dir];
    results = [];
    while (rr !== node) {
      f(rr);
      results.push(rr = rr[dir]);
    }
    return results;
  };
  cover = function(c) { // c is a column. Pls observe, left and right are never touched.
    var l, r;
    l = c.prev;
    r = c.next;
    // Unlink column
    l.next = r;
    r.prev = l;
    // From top to bottom, left to right unlink every row node from its column
    return iterate('down', c.head, function(rr) {
      return iterate('right', rr, function(nn) {
        var dd, uu;
        uu = nn.up;
        dd = nn.down;
        uu.down = dd;
        dd.up = uu;
        return nn.col.len--;
      });
    });
  };
  uncover = function(c) {
    var l, r;
    // From bottom to top, right to left relink every row node to its column
    iterate('up', c.head, function(rr) {
      return iterate('left', rr, function(nn) {
        var dd, uu;
        uu = nn.up;
        dd = nn.down;
        uu.down = nn;
        dd.up = nn;
        return nn.col.len++;
      });
    });
    l = c.prev;
    r = c.next;
    // Unlink column
    l.next = c;
    return r.prev = c;
  };
  pickBestColumn = function() { // Only R and C columns, not A and B
    bestCol = root.next;
    return iterate('next', root, function(curCol) {
      if (curCol.len < bestCol.len) {
        return bestCol = curCol;
      }
    });
  };
  forward = function() {
    pickBestColumn();
    currentNode = bestCol.head.down;
    choices[level] = currentNode;
    cover(bestCol);
    return currentSearchState = SearchState.ADVANCE;
  };
  recordSolution = function() {
    var l;
    return solutions.push(((function() {
      var j, len, ref, results;
      ref = range(level + 1);
      results = [];
      for (j = 0, len = ref.length; j < len; j++) {
        l = ref[j];
        results.push(choices[l].data);
      }
      return results;
    })()).join(' '));
  };
  dumpNode = function() {
    var c, col, i, j, keys, len, optionsP, optionsS, ref, result;
    optionsP = {};
    iterate('next', root, function(col) {
      var keys;
      keys = [];
      iterate('down', col.head, function(p) {
        return keys.push(p.data);
      });
      if (keys.length > 0) {
        return optionsP[col.key] = keys.join(' ');
      }
    });
    optionsS = {};
    ref = range(secondaries.length);
    for (j = 0, len = ref.length; j < len; j++) {
      i = ref[j];
      col = colArray[17 + i];
      keys = [];
      iterate('down', col.head, function(p) {
        return keys.push(p.data);
      });
      if (keys.length > 0) {
        optionsS[col.key] = keys.join(' ');
      }
      col = col.next;
    }
    result = {};
    result.choices = (((function() {
      var k, len1, results;
      results = [];
      for (k = 0, len1 = choices.length; k < len1; k++) {
        c = choices[k];
        results.push(c.data);
      }
      return results;
    })()).join(' ')).trim();
    result.primaries = optionsP;
    result.secondaries = optionsS;
    return snapshots.push(result);
  };
  advance = function() {
    if (currentNode === bestCol.head) {
      currentSearchState = SearchState.BACKUP;
      return;
    }
    nodes++;
    iterate('right', currentNode, function(pp) {
      return cover(pp.col);
    });
    if (root.next === root) {
      recordSolution();
      if (solutions.length === numSolutions) {
        currentSearchState = SearchState.DONE;
      } else {
        currentSearchState = SearchState.RECOVER;
      }
      return;
    }
    level++;
    return currentSearchState = SearchState.FORWARD;
  };
  backup = function() {
    uncover(bestCol);
    if (level === 0) {
      currentSearchState = SearchState.DONE;
      return;
    }
    level--;
    currentNode = choices[level];
    bestCol = currentNode.col;
    return currentSearchState = SearchState.RECOVER;
  };
  recover = function() {
    iterate('left', currentNode, function(pp) {
      return uncover(pp.col);
    });
    currentNode = currentNode.down;
    choices[level] = currentNode;
    return currentSearchState = SearchState.ADVANCE;
  };
  done = function() {
    return running = false;
  };
  stateMethods = {
    [SearchState.FORWARD]: forward,
    [SearchState.ADVANCE]: advance,
    [SearchState.BACKUP]: backup,
    [SearchState.RECOVER]: recover,
    [SearchState.DONE]: done
  };
  readColumnNames();
  readRows();
  dumpNode();
  while (running) {
    currentStateMethod = stateMethods[currentSearchState];
    currentStateMethod();
    if (currentSearchState === 0) {
      dumpNode();
    }
  }
  dumpNode();
  return {solutions, snapshots};
};

getSearchConfig = function(numSolutions, constraints) {
  var primaries, secondaries;
  primaries = constraints.primaries;
  secondaries = constraints.secondaries;
  return {
    primaries,
    secondaries,
    numSolutions,
    rows: constraints.entries
  };
};

findAll = function(constraints) {
  return search(getSearchConfig(2e308, constraints));
};

findOne = function(constraints) {
  return search(getSearchConfig(1, constraints));
};

// find = (constraints, numSolutions) -> search getSearchConfig numSolutions, constraints
// findRaw = (config) -> search config
makeData = function({header, primaries, secondaries, options}) {
  var entries, entryCount, i, index, item, j, k, key, len, len1, option, p, prim, ref, sec;
  prim = primaries.split(' ');
  sec = secondaries.split(' ');
  index = {};
  ref = prim.concat(sec);
  for (i = j = 0, len = ref.length; j < len; i = ++j) {
    p = ref[i];
    index[p] = i;
  }
  entries = {};
  entryCount = 0;
  for (k = 0, len1 = options.length; k < len1; k++) {
    option = options[k];
    option = option.split(' ');
    key = option.shift();
    entryCount += option.length;
    entries[key] = (function() {
      var len2, m, results;
      results = [];
      for (m = 0, len2 = option.length; m < len2; m++) {
        item = option[m];
        results.push(index[item]);
      }
      return results;
    })();
  }
  console.log(`${prim.length}+${sec.length} items, ${options.length} options, ${entryCount} entries`);
  return {primaries, secondaries, entries};
};

module.exports = {makeData, search, getSearchConfig, findAll, findOne};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGx4LmpzIiwic291cmNlUm9vdCI6Ii4uIiwic291cmNlcyI6WyJjb2ZmZWVcXGRseC5jb2ZmZWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBOzs7Ozs7QUFBQSxJQUFBLFdBQUEsRUFBQSxPQUFBLEVBQUEsT0FBQSxFQUFBLGVBQUEsRUFBQSxRQUFBLEVBQUEsS0FBQSxFQUFBOztBQU9BLFdBQUEsR0FDQztFQUFBLE9BQUEsRUFBVSxDQUFWO0VBQ0EsT0FBQSxFQUFVLENBRFY7RUFFQSxNQUFBLEVBQVMsQ0FGVDtFQUdBLE9BQUEsRUFBVSxDQUhWO0VBSUEsSUFBQSxFQUFPO0FBSlA7O0FBTUQsS0FBQSxHQUFRLFFBQUEsQ0FBQyxDQUFELENBQUE7U0FBTzs7Ozs7QUFBUDs7QUFFUixNQUFBLEdBQVMsUUFBQSxDQUFDLE1BQUQsQ0FBQSxFQUFBO0FBQ1IsTUFBQSxPQUFBLEVBQUEsTUFBQSxFQUFBLE9BQUEsRUFBQSxPQUFBLEVBQUEsUUFBQSxFQUFBLEtBQUEsRUFBQSxXQUFBLEVBQUEsa0JBQUEsRUFBQSxrQkFBQSxFQUFBLElBQUEsRUFBQSxRQUFBLEVBQUEsT0FBQSxFQUFBLE9BQUEsRUFBQSxLQUFBLEVBQUEsU0FBQSxFQUFBLEtBQUEsRUFBQSxZQUFBLEVBQUEsY0FBQSxFQUFBLFNBQUEsRUFBQSxlQUFBLEVBQUEsUUFBQSxFQUFBLGNBQUEsRUFBQSxPQUFBLEVBQUEsSUFBQSxFQUFBLElBQUEsRUFBQSxPQUFBLEVBQUEsV0FBQSxFQUFBLFNBQUEsRUFBQSxTQUFBLEVBQUEsWUFBQSxFQUFBO0VBQUEsQ0FBQSxDQUFFLFlBQUYsRUFBZ0IsU0FBaEIsRUFBMkIsV0FBM0IsRUFBd0MsSUFBeEMsQ0FBQSxHQUFpRCxNQUFqRDtFQUVBLElBQUEsR0FBTyxDQUFBO0VBRVAsUUFBQSxHQUFXLENBQUMsSUFBRDtFQUNYLFNBQUEsR0FBWTtFQUNaLFNBQUEsR0FBWTtFQUVaLGtCQUFBLEdBQXFCLFdBQVcsQ0FBQztFQUNqQyxPQUFBLEdBQVU7RUFDVixL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LENBQUMsU0FBRCxFQUFXLFdBQVgsRUFBdUIsT0FBdkI7QUFiVTs7QUFlWCxNQUFNLENBQUMsT0FBUCxHQUFpQixDQUFDLFFBQUQsRUFBVyxNQUFYLEVBQW1CLGVBQW5CLEVBQW9DLE9BQXBDLEVBQTZDLE9BQTdDIiwic291cmNlc0NvbnRlbnQiOlsiIyBLbnV0aCdzIERhbmNpbmcgTGlua3NcclxuIyBPcmlnaW5hbCBwYXBlcjogaHR0cHM6Ly9hcnhpdi5vcmcvcGRmL2NzLzAwMTEwNDcucGRmXHJcbiMgSW1wbGVtZW50YXRpb24gcG9ydGVkIGZyb206IGh0dHBzOi8vZ2l0aHViLmNvbS9zaHJlZXZhdHNhL2tudXRoLWxpdGVyYXRlLXByb2dyYW1zL2Jsb2IvbWFzdGVyL3Byb2dyYW1zL2RhbmNlLnBkZlxyXG4jXHJcbiMgQ29kZSBydW5zIGluIGEgc3RhdGUgbWFjaGluZSBpbiBvcmRlciB0byBhdm9pZCByZWN1cnNpb25cclxuIyBhbmQgaW4gb3JkZXIgdG8gd29yayBhcm91bmQgdGhlIGxhY2sgb2YgYGdvdG9gIGluIEpTXHJcblxyXG5TZWFyY2hTdGF0ZSA9IFxyXG5cdEZPUldBUkQgOiAwXHJcblx0QURWQU5DRSA6IDFcclxuXHRCQUNLVVAgOiAyXHJcblx0UkVDT1ZFUiA6IDNcclxuXHRET05FIDogNFxyXG5cclxucmFuZ2UgPSAobikgLT4gWzAuLi5uXVxyXG5cclxuc2VhcmNoID0gKGNvbmZpZykgLT4gIyByb3dzOiBoYXNoIHdpdGggZWxlbWVudHMgXCJhYVwiOlswLDU5LDExOCwxNzddXHJcblx0eyBudW1Tb2x1dGlvbnMsIHByaW1hcmllcywgc2Vjb25kYXJpZXMsIHJvd3MgfSA9IGNvbmZpZ1xyXG5cdFxyXG5cdHJvb3QgPSB7fVxyXG5cclxuXHRjb2xBcnJheSA9IFtyb290XVxyXG5cdG5vZGVBcnJheSA9IFtdXHJcblx0c29sdXRpb25zID0gW11cclxuXHJcblx0Y3VycmVudFNlYXJjaFN0YXRlID0gU2VhcmNoU3RhdGUuRk9SV0FSRFxyXG5cdHJ1bm5pbmcgPSB0cnVlXHJcblx0bGV2ZWwgPSAwXHJcblx0Y2hvaWNlcyA9IFtdXHJcblx0YmVzdENvbCA9IG51bGxcclxuXHRjdXJyZW50Tm9kZSA9IG51bGxcclxuXHRub2RlcyA9IDAgXHJcblx0c25hcHNob3RzID0gW11cclxuXHJcblx0cmVhZENvbHVtbk5hbWVzID0gKCkgLT5cclxuXHRcdCMgU2tpcCByb290IG5vZGVcclxuXHRcdGN1ckNvbEluZGV4ID0gMVxyXG5cclxuXHRcdGZvciBwcmltYXJ5IGluIHByaW1hcmllc1xyXG5cdFx0XHRoZWFkID0ge31cclxuXHRcdFx0aGVhZC51cCA9IGhlYWRcclxuXHRcdFx0aGVhZC5kb3duID0gaGVhZFxyXG5cdFx0XHRjb2x1bW4gPSB7aGVhZCwgbGVuOjAsIGtleTpwcmltYXJ5fSBcclxuXHRcdFx0Y29sdW1uLnByZXYgPSBjb2xBcnJheVtjdXJDb2xJbmRleCAtIDFdXHJcblx0XHRcdGNvbEFycmF5W2N1ckNvbEluZGV4IC0gMV0ubmV4dCA9IGNvbHVtblxyXG5cdFx0XHRjb2xBcnJheVtjdXJDb2xJbmRleF0gPSBjb2x1bW5cclxuXHRcdFx0Y3VyQ29sSW5kZXgrK1xyXG5cclxuXHRcdGxhc3RDb2wgPSBjb2xBcnJheVtjdXJDb2xJbmRleCAtIDFdXHJcblx0XHQjIExpbmsgdGhlIGxhc3QgcHJpbWFyaWVzIGNvbnN0cmFpbnQgdG8gd3JhcCBiYWNrIGludG8gdGhlIHJvb3RcclxuXHRcdGxhc3RDb2wubmV4dCA9IHJvb3RcclxuXHRcdHJvb3QucHJldiA9IGxhc3RDb2xcclxuXHJcblx0XHRmb3Igc2Vjb25kYXJ5IGluIHNlY29uZGFyaWVzXHJcblx0XHRcdGhlYWQgPSB7fVxyXG5cdFx0XHRoZWFkLnVwID0gaGVhZFxyXG5cdFx0XHRoZWFkLmRvd24gPSBoZWFkXHJcblx0XHRcdGNvbHVtbiA9IHtoZWFkLCBsZW46MCwga2V5OnNlY29uZGFyeX1cclxuXHRcdFx0Y29sdW1uLnByZXYgPSBjb2x1bW5cclxuXHRcdFx0Y29sdW1uLm5leHQgPSBjb2x1bW5cclxuXHRcdFx0Y29sQXJyYXlbY3VyQ29sSW5kZXhdID0gY29sdW1uXHJcblx0XHRcdGN1ckNvbEluZGV4KytcclxuXHJcblx0cmVhZFJvd3MgID0gKCkgLT5cclxuXHRcdGN1ck5vZGVJbmRleCA9IDBcclxuXHRcdGZvciBrZXkscm93IG9mIHJvd3NcclxuXHRcdFx0cm93U3RhcnQgPSB1bmRlZmluZWRcclxuXHJcblx0XHRcdGZvciBjb2x1bW5JbmRleCBpbiByb3dcclxuXHRcdFx0XHRub2RlID0ge31cclxuXHRcdFx0XHRub2RlLmxlZnQgPSBub2RlXHJcblx0XHRcdFx0bm9kZS5yaWdodCA9IG5vZGVcclxuXHRcdFx0XHRub2RlLmRvd24gPSBub2RlXHJcblx0XHRcdFx0bm9kZS51cCA9IG5vZGVcclxuXHRcdFx0XHRub2RlLmRhdGEgPSBrZXlcclxuXHJcblx0XHRcdFx0bm9kZUFycmF5W2N1ck5vZGVJbmRleF0gPSBub2RlXHJcblxyXG5cdFx0XHRcdGlmICFyb3dTdGFydFxyXG5cdFx0XHRcdFx0cm93U3RhcnQgPSBub2RlXHJcblx0XHRcdFx0ZWxzZVxyXG5cdFx0XHRcdFx0bm9kZS5sZWZ0ID0gbm9kZUFycmF5W2N1ck5vZGVJbmRleCAtIDFdXHJcblx0XHRcdFx0XHRub2RlQXJyYXlbY3VyTm9kZUluZGV4IC0gMV0ucmlnaHQgPSBub2RlXHJcblxyXG5cdFx0XHRcdGNvbCA9IGNvbEFycmF5W2NvbHVtbkluZGV4ICsgMV1cclxuXHRcdFx0XHRub2RlLmNvbCA9IGNvbFxyXG5cclxuXHRcdFx0XHRub2RlLnVwID0gY29sLmhlYWQudXBcclxuXHRcdFx0XHRjb2wuaGVhZC51cC5kb3duID0gbm9kZVxyXG5cclxuXHRcdFx0XHRjb2wuaGVhZC51cCA9IG5vZGVcclxuXHRcdFx0XHRub2RlLmRvd24gPSBjb2wuaGVhZFxyXG5cclxuXHRcdFx0XHRjb2wubGVuKytcclxuXHRcdFx0XHRjdXJOb2RlSW5kZXgrK1xyXG5cclxuXHRcdFx0cm93U3RhcnQubGVmdCA9IG5vZGVBcnJheVtjdXJOb2RlSW5kZXggLSAxXVxyXG5cdFx0XHRub2RlQXJyYXlbY3VyTm9kZUluZGV4IC0gMV0ucmlnaHQgPSByb3dTdGFydFxyXG5cclxuXHRpdGVyYXRlID0gKGRpcixub2RlLGYpIC0+XHJcblx0XHRyciA9IG5vZGVbZGlyXVxyXG5cdFx0d2hpbGUgcnIgIT0gbm9kZVxyXG5cdFx0XHRmIHJyXHJcblx0XHRcdHJyID0gcnJbZGlyXVxyXG5cclxuXHRjb3ZlciA9IChjKSAtPiAjIGMgaXMgYSBjb2x1bW4uIFBscyBvYnNlcnZlLCBsZWZ0IGFuZCByaWdodCBhcmUgbmV2ZXIgdG91Y2hlZC5cclxuXHRcdGwgPSBjLnByZXZcclxuXHRcdHIgPSBjLm5leHRcclxuXHJcblx0XHQjIFVubGluayBjb2x1bW5cclxuXHRcdGwubmV4dCA9IHJcclxuXHRcdHIucHJldiA9IGxcclxuXHJcblx0XHQjIEZyb20gdG9wIHRvIGJvdHRvbSwgbGVmdCB0byByaWdodCB1bmxpbmsgZXZlcnkgcm93IG5vZGUgZnJvbSBpdHMgY29sdW1uXHJcblx0XHRpdGVyYXRlICdkb3duJywgYy5oZWFkLCAocnIpIC0+XHJcblx0XHRcdGl0ZXJhdGUgJ3JpZ2h0JywgcnIsIChubikgLT5cclxuXHRcdFx0XHR1dSA9IG5uLnVwXHJcblx0XHRcdFx0ZGQgPSBubi5kb3duXHJcblx0XHRcdFx0dXUuZG93biA9IGRkXHJcblx0XHRcdFx0ZGQudXAgPSB1dVxyXG5cdFx0XHRcdG5uLmNvbC5sZW4tLVxyXG5cclxuXHR1bmNvdmVyICA9IChjKSAtPlxyXG5cdFx0IyBGcm9tIGJvdHRvbSB0byB0b3AsIHJpZ2h0IHRvIGxlZnQgcmVsaW5rIGV2ZXJ5IHJvdyBub2RlIHRvIGl0cyBjb2x1bW5cclxuXHRcdGl0ZXJhdGUgJ3VwJywgYy5oZWFkLCAocnIpIC0+XHJcblx0XHRcdGl0ZXJhdGUgJ2xlZnQnLCByciwgKG5uKSAtPlxyXG5cdFx0XHRcdHV1ID0gbm4udXBcclxuXHRcdFx0XHRkZCA9IG5uLmRvd25cclxuXHRcdFx0XHR1dS5kb3duID0gbm5cclxuXHRcdFx0XHRkZC51cCA9IG5uXHJcblx0XHRcdFx0bm4uY29sLmxlbisrXHJcblxyXG5cdFx0bCA9IGMucHJldlxyXG5cdFx0ciA9IGMubmV4dFxyXG5cclxuXHRcdCMgVW5saW5rIGNvbHVtblxyXG5cdFx0bC5uZXh0ID0gY1xyXG5cdFx0ci5wcmV2ID0gY1xyXG5cclxuXHRwaWNrQmVzdENvbHVtbiA9IC0+ICMgT25seSBSIGFuZCBDIGNvbHVtbnMsIG5vdCBBIGFuZCBCXHJcblx0XHRiZXN0Q29sID0gcm9vdC5uZXh0XHJcblx0XHRpdGVyYXRlICduZXh0Jywgcm9vdCwgKGN1ckNvbCktPlxyXG5cdFx0XHRpZiBjdXJDb2wubGVuIDwgYmVzdENvbC5sZW4gdGhlbiBiZXN0Q29sID0gY3VyQ29sXHJcblxyXG5cdGZvcndhcmQgPSAtPlxyXG5cdFx0cGlja0Jlc3RDb2x1bW4oKVxyXG5cdFx0Y3VycmVudE5vZGUgPSBiZXN0Q29sLmhlYWQuZG93blxyXG5cdFx0Y2hvaWNlc1tsZXZlbF0gPSBjdXJyZW50Tm9kZVxyXG5cdFx0Y292ZXIgYmVzdENvbFxyXG5cdFx0Y3VycmVudFNlYXJjaFN0YXRlID0gU2VhcmNoU3RhdGUuQURWQU5DRVxyXG5cclxuXHRyZWNvcmRTb2x1dGlvbiA9IC0+IHNvbHV0aW9ucy5wdXNoIChjaG9pY2VzW2xdLmRhdGEgZm9yIGwgaW4gcmFuZ2UgbGV2ZWwrMSkuam9pbiAnICdcclxuXHJcblx0ZHVtcE5vZGUgPSAoKSAtPlxyXG5cdFx0b3B0aW9uc1AgPSB7fVxyXG5cdFx0aXRlcmF0ZSAnbmV4dCcscm9vdCwoY29sKS0+XHJcblx0XHRcdGtleXMgPSBbXVxyXG5cdFx0XHRpdGVyYXRlICdkb3duJyxjb2wuaGVhZCwocCktPlxyXG5cdFx0XHRcdGtleXMucHVzaCBwLmRhdGFcclxuXHRcdFx0b3B0aW9uc1BbY29sLmtleV0gPSBrZXlzLmpvaW4gJyAnIGlmIGtleXMubGVuZ3RoID4gMFxyXG5cclxuXHRcdG9wdGlvbnNTID0ge31cclxuXHRcdGZvciBpIGluIHJhbmdlIHNlY29uZGFyaWVzLmxlbmd0aFxyXG5cdFx0XHRjb2wgPSBjb2xBcnJheVsxNytpXVxyXG5cdFx0XHRrZXlzID0gW11cclxuXHRcdFx0aXRlcmF0ZSAnZG93bicsY29sLmhlYWQsKHApLT5cclxuXHRcdFx0XHRrZXlzLnB1c2ggcC5kYXRhXHJcblx0XHRcdG9wdGlvbnNTW2NvbC5rZXldID0ga2V5cy5qb2luICcgJyBpZiBrZXlzLmxlbmd0aCA+IDBcclxuXHRcdFx0Y29sID0gY29sLm5leHRcclxuXHJcblx0XHRyZXN1bHQgPSB7fVxyXG5cdFx0cmVzdWx0LmNob2ljZXMgPSAoKGMuZGF0YSBmb3IgYyBpbiBjaG9pY2VzKS5qb2luICcgJykudHJpbSgpXHJcblx0XHRyZXN1bHQucHJpbWFyaWVzID0gb3B0aW9uc1BcclxuXHRcdHJlc3VsdC5zZWNvbmRhcmllcyA9IG9wdGlvbnNTXHJcblx0XHRzbmFwc2hvdHMucHVzaCByZXN1bHRcclxuXHJcblx0YWR2YW5jZSA9ICgpIC0+XHJcblx0XHRpZiBjdXJyZW50Tm9kZSA9PSBiZXN0Q29sLmhlYWRcclxuXHRcdFx0Y3VycmVudFNlYXJjaFN0YXRlID0gU2VhcmNoU3RhdGUuQkFDS1VQXHJcblx0XHRcdHJldHVyblxyXG5cdFx0bm9kZXMrK1xyXG5cclxuXHRcdGl0ZXJhdGUgJ3JpZ2h0JyxjdXJyZW50Tm9kZSwgKHBwKSAtPiBjb3ZlciBwcC5jb2xcclxuXHJcblx0XHRpZiByb290Lm5leHQgPT0gcm9vdFxyXG5cdFx0XHRyZWNvcmRTb2x1dGlvbigpXHJcblx0XHRcdGlmIHNvbHV0aW9ucy5sZW5ndGggPT0gbnVtU29sdXRpb25zXHJcblx0XHRcdFx0Y3VycmVudFNlYXJjaFN0YXRlID0gU2VhcmNoU3RhdGUuRE9ORVxyXG5cdFx0XHRlbHNlXHJcblx0XHRcdFx0Y3VycmVudFNlYXJjaFN0YXRlID0gU2VhcmNoU3RhdGUuUkVDT1ZFUlxyXG5cdFx0XHRyZXR1cm5cclxuXHJcblx0XHRsZXZlbCsrXHJcblx0XHRjdXJyZW50U2VhcmNoU3RhdGUgPSBTZWFyY2hTdGF0ZS5GT1JXQVJEXHJcblxyXG5cdGJhY2t1cCA9ICgpIC0+XHJcblx0XHR1bmNvdmVyIGJlc3RDb2xcclxuXHRcdGlmIGxldmVsID09IDBcclxuXHRcdFx0Y3VycmVudFNlYXJjaFN0YXRlID0gU2VhcmNoU3RhdGUuRE9ORVxyXG5cdFx0XHRyZXR1cm5cclxuXHRcdGxldmVsLS1cclxuXHJcblx0XHRjdXJyZW50Tm9kZSA9IGNob2ljZXNbbGV2ZWxdXHJcblx0XHRiZXN0Q29sID0gY3VycmVudE5vZGUuY29sXHJcblx0XHRjdXJyZW50U2VhcmNoU3RhdGUgPSBTZWFyY2hTdGF0ZS5SRUNPVkVSXHJcblxyXG5cdHJlY292ZXIgPSAoKSAtPlxyXG5cdFx0aXRlcmF0ZSAnbGVmdCcsY3VycmVudE5vZGUsIChwcCkgLT4gdW5jb3ZlciBwcC5jb2xcclxuXHRcdGN1cnJlbnROb2RlID0gY3VycmVudE5vZGUuZG93blxyXG5cdFx0Y2hvaWNlc1tsZXZlbF0gPSBjdXJyZW50Tm9kZVxyXG5cdFx0Y3VycmVudFNlYXJjaFN0YXRlID0gU2VhcmNoU3RhdGUuQURWQU5DRVxyXG5cclxuXHRkb25lID0gKCkgLT4gcnVubmluZyA9IGZhbHNlXHJcblxyXG5cdHN0YXRlTWV0aG9kcyA9IHtcclxuXHRcdFtTZWFyY2hTdGF0ZS5GT1JXQVJEXTogZm9yd2FyZCxcclxuXHRcdFtTZWFyY2hTdGF0ZS5BRFZBTkNFXTogYWR2YW5jZSxcclxuXHRcdFtTZWFyY2hTdGF0ZS5CQUNLVVBdOiBiYWNrdXAsXHJcblx0XHRbU2VhcmNoU3RhdGUuUkVDT1ZFUl06IHJlY292ZXIsXHJcblx0XHRbU2VhcmNoU3RhdGUuRE9ORV06IGRvbmVcclxuXHR9XHJcblxyXG5cdHJlYWRDb2x1bW5OYW1lcygpXHJcblx0cmVhZFJvd3MoKVxyXG5cdGR1bXBOb2RlKClcclxuXHR3aGlsZSBydW5uaW5nXHJcblx0XHRjdXJyZW50U3RhdGVNZXRob2QgPSBzdGF0ZU1ldGhvZHNbY3VycmVudFNlYXJjaFN0YXRlXVxyXG5cdFx0Y3VycmVudFN0YXRlTWV0aG9kKClcclxuXHRcdGlmIGN1cnJlbnRTZWFyY2hTdGF0ZSA9PSAwIHRoZW4gZHVtcE5vZGUoKVxyXG5cdGR1bXBOb2RlKClcclxuXHRyZXR1cm4ge3NvbHV0aW9ucyxzbmFwc2hvdHN9XHJcblxyXG5nZXRTZWFyY2hDb25maWcgPSAobnVtU29sdXRpb25zLCBjb25zdHJhaW50cykgLT5cclxuXHRwcmltYXJpZXMgPSBjb25zdHJhaW50cy5wcmltYXJpZXNcclxuXHRzZWNvbmRhcmllcyA9IGNvbnN0cmFpbnRzLnNlY29uZGFyaWVzXHJcblx0e3ByaW1hcmllcywgc2Vjb25kYXJpZXMsIG51bVNvbHV0aW9ucywgcm93czogY29uc3RyYWludHMuZW50cmllc31cclxuXHJcbmZpbmRBbGwgPSAoY29uc3RyYWludHMpIC0+IHNlYXJjaCBnZXRTZWFyY2hDb25maWcgSW5maW5pdHksIGNvbnN0cmFpbnRzXHJcbmZpbmRPbmUgPSAoY29uc3RyYWludHMpIC0+IHNlYXJjaCBnZXRTZWFyY2hDb25maWcgMSwgY29uc3RyYWludHNcclxuIyBmaW5kID0gKGNvbnN0cmFpbnRzLCBudW1Tb2x1dGlvbnMpIC0+IHNlYXJjaCBnZXRTZWFyY2hDb25maWcgbnVtU29sdXRpb25zLCBjb25zdHJhaW50c1xyXG4jIGZpbmRSYXcgPSAoY29uZmlnKSAtPiBzZWFyY2ggY29uZmlnXHJcblxyXG5tYWtlRGF0YSA9ICh7aGVhZGVyLHByaW1hcmllcyxzZWNvbmRhcmllcyxvcHRpb25zfSkgLT5cclxuXHRwcmltID0gcHJpbWFyaWVzLnNwbGl0ICcgJ1xyXG5cdHNlYyA9IHNlY29uZGFyaWVzLnNwbGl0ICcgJ1xyXG5cdGluZGV4ID0ge31cclxuXHRpbmRleFtwXSA9IGkgZm9yIHAsaSBpbiBwcmltLmNvbmNhdCBzZWNcclxuXHRlbnRyaWVzID0ge31cclxuXHRlbnRyeUNvdW50ID0gMFxyXG5cdGZvciBvcHRpb24gaW4gb3B0aW9uc1xyXG5cdFx0b3B0aW9uID0gb3B0aW9uLnNwbGl0ICcgJ1xyXG5cdFx0a2V5ID0gb3B0aW9uLnNoaWZ0KClcdFx0XHJcblx0XHRlbnRyeUNvdW50ICs9IG9wdGlvbi5sZW5ndGhcclxuXHRcdGVudHJpZXNba2V5XSA9IChpbmRleFtpdGVtXSBmb3IgaXRlbSBpbiBvcHRpb24pXHJcblx0Y29uc29sZS5sb2cgXCIje3ByaW0ubGVuZ3RofSsje3NlYy5sZW5ndGh9IGl0ZW1zLCAje29wdGlvbnMubGVuZ3RofSBvcHRpb25zLCAje2VudHJ5Q291bnR9IGVudHJpZXNcIlxyXG5cdHtwcmltYXJpZXMsc2Vjb25kYXJpZXMsZW50cmllc31cclxuXHJcbm1vZHVsZS5leHBvcnRzID0ge21ha2VEYXRhLCBzZWFyY2gsIGdldFNlYXJjaENvbmZpZywgZmluZEFsbCwgZmluZE9uZX1cclxuIl19
//# sourceURL=c:\github\2020\037-DLX\coffee\dlx.coffee